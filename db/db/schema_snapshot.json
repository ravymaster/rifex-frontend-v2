[
  {
    "rifex_schema_json": "{\n    \"enums\": [\n    ],\n    \"views\": [\n    ],\n    \"schema\": \"public\",\n    \"tables\": [\n        {\n            \"table\": \"merchant_gateways\",\n            \"checks\": [\n                {\n                    \"name\": \"2200_17398_1_not_null\",\n                    \"clause\": \"id IS NOT NULL\"\n                },\n                {\n                    \"name\": \"2200_17398_3_not_null\",\n                    \"clause\": \"provider IS NOT NULL\"\n                },\n                {\n                    \"name\": \"2200_17398_7_not_null\",\n                    \"clause\": \"status IS NOT NULL\"\n                }\n            ],\n            \"columns\": [\n                {\n                    \"pos\": 1,\n                    \"name\": \"id\",\n                    \"default\": \"gen_random_uuid()\",\n                    \"char_max\": null,\n                    \"udt_name\": \"uuid\",\n                    \"data_type\": \"uuid\",\n                    \"is_nullable\": \"NO\",\n                    \"numeric_scale\": null,\n                    \"numeric_precision\": null\n                },\n                {\n                    \"pos\": 2,\n                    \"name\": \"user_id\",\n                    \"default\": null,\n                    \"char_max\": null,\n                    \"udt_name\": \"uuid\",\n                    \"data_type\": \"uuid\",\n                    \"is_nullable\": \"YES\",\n                    \"numeric_scale\": null,\n                    \"numeric_precision\": null\n                },\n                {\n                    \"pos\": 3,\n                    \"name\": \"provider\",\n                    \"default\": null,\n                    \"char_max\": null,\n                    \"udt_name\": \"text\",\n                    \"data_type\": \"text\",\n                    \"is_nullable\": \"NO\",\n                    \"numeric_scale\": null,\n                    \"numeric_precision\": null\n                },\n                {\n                    \"pos\": 4,\n                    \"name\": \"public_key\",\n                    \"default\": null,\n                    \"char_max\": null,\n                    \"udt_name\": \"text\",\n                    \"data_type\": \"text\",\n                    \"is_nullable\": \"YES\",\n                    \"numeric_scale\": null,\n                    \"numeric_precision\": null\n                },\n                {\n                    \"pos\": 5,\n                    \"name\": \"access_token\",\n                    \"default\": null,\n                    \"char_max\": null,\n                    \"udt_name\": \"text\",\n                    \"data_type\": \"text\",\n                    \"is_nullable\": \"YES\",\n                    \"numeric_scale\": null,\n                    \"numeric_precision\": null\n                },\n                {\n                    \"pos\": 6,\n                    \"name\": \"webhook_secret\",\n                    \"default\": null,\n                    \"char_max\": null,\n                    \"udt_name\": \"text\",\n                    \"data_type\": \"text\",\n                    \"is_nullable\": \"YES\",\n                    \"numeric_scale\": null,\n                    \"numeric_precision\": null\n                },\n                {\n                    \"pos\": 7,\n                    \"name\": \"status\",\n                    \"default\": \"'not_started'::text\",\n                    \"char_max\": null,\n                    \"udt_name\": \"text\",\n                    \"data_type\": \"text\",\n                    \"is_nullable\": \"NO\",\n                    \"numeric_scale\": null,\n                    \"numeric_precision\": null\n                },\n                {\n                    \"pos\": 8,\n                    \"name\": \"created_at\",\n                    \"default\": \"now()\",\n                    \"char_max\": null,\n                    \"udt_name\": \"timestamptz\",\n                    \"data_type\": \"timestamp with time zone\",\n                    \"is_nullable\": \"YES\",\n                    \"numeric_scale\": null,\n                    \"numeric_precision\": null\n                },\n                {\n                    \"pos\": 9,\n                    \"name\": \"updated_at\",\n                    \"default\": \"now()\",\n                    \"char_max\": null,\n                    \"udt_name\": \"timestamptz\",\n                    \"data_type\": \"timestamp with time zone\",\n                    \"is_nullable\": \"YES\",\n                    \"numeric_scale\": null,\n                    \"numeric_precision\": null\n                }\n            ],\n            \"indexes\": [\n                {\n                    \"def\": \"CREATE UNIQUE INDEX merchant_gateways_pkey ON public.merchant_gateways USING btree (id)\",\n                    \"name\": \"merchant_gateways_pkey\"\n                },\n                {\n                    \"def\": \"CREATE UNIQUE INDEX merchant_gateways_user_id_provider_key ON public.merchant_gateways USING btree (user_id, provider)\",\n                    \"name\": \"merchant_gateways_user_id_provider_key\"\n                }\n            ],\n            \"uniques\": [\n                {\n                    \"name\": \"merchant_gateways_user_id_provider_key\",\n                    \"columns\": [\n                        \"user_id\",\n                        \"provider\"\n                    ]\n                }\n            ],\n            \"primary_key\": {\n                \"name\": \"merchant_gateways_pkey\",\n                \"columns\": [\n                    \"id\"\n                ]\n            },\n            \"foreign_keys\": [\n                {\n                    \"name\": \"merchant_gateways_user_id_fkey\",\n                    \"columns\": [\n                        \"user_id\"\n                    ],\n                    \"on_delete\": \"CASCADE\",\n                    \"on_update\": \"NO ACTION\",\n                    \"ref_table\": \"users\",\n                    \"ref_columns\": [\n                        \"id\"\n                    ]\n                }\n            ]\n        },\n        {\n            \"table\": \"payments\",\n            \"checks\": [\n                {\n                    \"name\": \"2200_17441_1_not_null\",\n                    \"clause\": \"id IS NOT NULL\"\n                }\n            ],\n            \"columns\": [\n                {\n                    \"pos\": 1,\n                    \"name\": \"id\",\n                    \"default\": \"nextval('payments_id_seq'::regclass)\",\n                    \"char_max\": null,\n                    \"udt_name\": \"int8\",\n                    \"data_type\": \"bigint\",\n                    \"is_nullable\": \"NO\",\n                    \"numeric_scale\": 0,\n                    \"numeric_precision\": 64\n                },\n                {\n                    \"pos\": 2,\n                    \"name\": \"mp_payment_id\",\n                    \"default\": null,\n                    \"char_max\": null,\n                    \"udt_name\": \"int8\",\n                    \"data_type\": \"bigint\",\n                    \"is_nullable\": \"YES\",\n                    \"numeric_scale\": 0,\n                    \"numeric_precision\": 64\n                },\n                {\n                    \"pos\": 3,\n                    \"name\": \"status\",\n                    \"default\": null,\n                    \"char_max\": null,\n                    \"udt_name\": \"text\",\n                    \"data_type\": \"text\",\n                    \"is_nullable\": \"YES\",\n                    \"numeric_scale\": null,\n                    \"numeric_precision\": null\n                },\n                {\n                    \"pos\": 4,\n                    \"name\": \"collector_id\",\n                    \"default\": null,\n                    \"char_max\": null,\n                    \"udt_name\": \"int8\",\n                    \"data_type\": \"bigint\",\n                    \"is_nullable\": \"YES\",\n                    \"numeric_scale\": 0,\n                    \"numeric_precision\": 64\n                },\n                {\n                    \"pos\": 5,\n                    \"name\": \"external_reference\",\n                    \"default\": null,\n                    \"char_max\": null,\n                    \"udt_name\": \"text\",\n                    \"data_type\": \"text\",\n                    \"is_nullable\": \"YES\",\n                    \"numeric_scale\": null,\n                    \"numeric_precision\": null\n                },\n                {\n                    \"pos\": 6,\n                    \"name\": \"preference_id\",\n                    \"default\": null,\n                    \"char_max\": null,\n                    \"udt_name\": \"text\",\n                    \"data_type\": \"text\",\n                    \"is_nullable\": \"YES\",\n                    \"numeric_scale\": null,\n                    \"numeric_precision\": null\n                },\n                {\n                    \"pos\": 7,\n                    \"name\": \"amount\",\n                    \"default\": null,\n                    \"char_max\": null,\n                    \"udt_name\": \"numeric\",\n                    \"data_type\": \"numeric\",\n                    \"is_nullable\": \"YES\",\n                    \"numeric_scale\": null,\n                    \"numeric_precision\": null\n                },\n                {\n                    \"pos\": 8,\n                    \"name\": \"currency\",\n                    \"default\": null,\n                    \"char_max\": null,\n                    \"udt_name\": \"text\",\n                    \"data_type\": \"text\",\n                    \"is_nullable\": \"YES\",\n                    \"numeric_scale\": null,\n                    \"numeric_precision\": null\n                },\n                {\n                    \"pos\": 9,\n                    \"name\": \"payer_email\",\n                    \"default\": null,\n                    \"char_max\": null,\n                    \"udt_name\": \"text\",\n                    \"data_type\": \"text\",\n                    \"is_nullable\": \"YES\",\n                    \"numeric_scale\": null,\n                    \"numeric_precision\": null\n                },\n                {\n                    \"pos\": 10,\n                    \"name\": \"raw\",\n                    \"default\": null,\n                    \"char_max\": null,\n                    \"udt_name\": \"jsonb\",\n                    \"data_type\": \"jsonb\",\n                    \"is_nullable\": \"YES\",\n                    \"numeric_scale\": null,\n                    \"numeric_precision\": null\n                },\n                {\n                    \"pos\": 11,\n                    \"name\": \"created_at\",\n                    \"default\": \"now()\",\n                    \"char_max\": null,\n                    \"udt_name\": \"timestamptz\",\n                    \"data_type\": \"timestamp with time zone\",\n                    \"is_nullable\": \"YES\",\n                    \"numeric_scale\": null,\n                    \"numeric_precision\": null\n                }\n            ],\n            \"indexes\": [\n                {\n                    \"def\": \"CREATE UNIQUE INDEX payments_mp_payment_id_key ON public.payments USING btree (mp_payment_id)\",\n                    \"name\": \"payments_mp_payment_id_key\"\n                },\n                {\n                    \"def\": \"CREATE UNIQUE INDEX payments_pkey ON public.payments USING btree (id)\",\n                    \"name\": \"payments_pkey\"\n                }\n            ],\n            \"uniques\": [\n                {\n                    \"name\": \"payments_mp_payment_id_key\",\n                    \"columns\": [\n                        \"mp_payment_id\"\n                    ]\n                }\n            ],\n            \"primary_key\": {\n                \"name\": \"payments_pkey\",\n                \"columns\": [\n                    \"id\"\n                ]\n            },\n            \"foreign_keys\": [\n            ]\n        },\n        {\n            \"table\": \"purchases\",\n            \"checks\": [\n                {\n                    \"name\": \"2200_18604_1_not_null\",\n                    \"clause\": \"id IS NOT NULL\"\n                },\n                {\n                    \"name\": \"2200_18604_6_not_null\",\n                    \"clause\": \"status IS NOT NULL\"\n                },\n                {\n                    \"name\": \"2200_18604_7_not_null\",\n                    \"clause\": \"numbers IS NOT NULL\"\n                }\n            ],\n            \"columns\": [\n                {\n                    \"pos\": 1,\n                    \"name\": \"id\",\n                    \"default\": \"gen_random_uuid()\",\n                    \"char_max\": null,\n                    \"udt_name\": \"uuid\",\n                    \"data_type\": \"uuid\",\n                    \"is_nullable\": \"NO\",\n                    \"numeric_scale\": null,\n                    \"numeric_precision\": null\n                },\n                {\n                    \"pos\": 2,\n                    \"name\": \"raffle_id\",\n                    \"default\": null,\n                    \"char_max\": null,\n                    \"udt_name\": \"uuid\",\n                    \"data_type\": \"uuid\",\n                    \"is_nullable\": \"YES\",\n                    \"numeric_scale\": null,\n                    \"numeric_precision\": null\n                },\n                {\n                    \"pos\": 3,\n                    \"name\": \"buyer_email\",\n                    \"default\": null,\n                    \"char_max\": null,\n                    \"udt_name\": \"text\",\n                    \"data_type\": \"text\",\n                    \"is_nullable\": \"YES\",\n                    \"numeric_scale\": null,\n                    \"numeric_precision\": null\n                },\n                {\n                    \"pos\": 4,\n                    \"name\": \"mp_payment_id\",\n                    \"default\": null,\n                    \"char_max\": null,\n                    \"udt_name\": \"text\",\n                    \"data_type\": \"text\",\n                    \"is_nullable\": \"YES\",\n                    \"numeric_scale\": null,\n                    \"numeric_precision\": null\n                },\n                {\n                    \"pos\": 5,\n                    \"name\": \"mp_preference_id\",\n                    \"default\": null,\n                    \"char_max\": null,\n                    \"udt_name\": \"text\",\n                    \"data_type\": \"text\",\n                    \"is_nullable\": \"YES\",\n                    \"numeric_scale\": null,\n                    \"numeric_precision\": null\n                },\n                {\n                    \"pos\": 6,\n                    \"name\": \"status\",\n                    \"default\": \"'initiated'::text\",\n                    \"char_max\": null,\n                    \"udt_name\": \"text\",\n                    \"data_type\": \"text\",\n                    \"is_nullable\": \"NO\",\n                    \"numeric_scale\": null,\n                    \"numeric_precision\": null\n                },\n                {\n                    \"pos\": 7,\n                    \"name\": \"numbers\",\n                    \"default\": null,\n                    \"char_max\": null,\n                    \"udt_name\": \"_int4\",\n                    \"data_type\": \"ARRAY\",\n                    \"is_nullable\": \"NO\",\n                    \"numeric_scale\": null,\n                    \"numeric_precision\": null\n                },\n                {\n                    \"pos\": 8,\n                    \"name\": \"created_at\",\n                    \"default\": \"now()\",\n                    \"char_max\": null,\n                    \"udt_name\": \"timestamptz\",\n                    \"data_type\": \"timestamp with time zone\",\n                    \"is_nullable\": \"YES\",\n                    \"numeric_scale\": null,\n                    \"numeric_precision\": null\n                }\n            ],\n            \"indexes\": [\n                {\n                    \"def\": \"CREATE UNIQUE INDEX purchases_pkey ON public.purchases USING btree (id)\",\n                    \"name\": \"purchases_pkey\"\n                }\n            ],\n            \"uniques\": [\n            ],\n            \"primary_key\": {\n                \"name\": \"purchases_pkey\",\n                \"columns\": [\n                    \"id\"\n                ]\n            },\n            \"foreign_keys\": [\n                {\n                    \"name\": \"purchases_raffle_id_fkey\",\n                    \"columns\": [\n                        \"raffle_id\"\n                    ],\n                    \"on_delete\": \"CASCADE\",\n                    \"on_update\": \"NO ACTION\",\n                    \"ref_table\": \"raffles\",\n                    \"ref_columns\": [\n                        \"id\"\n                    ]\n                }\n            ]\n        },\n        {\n            \"table\": \"raffles\",\n            \"checks\": [\n                {\n                    \"name\": \"2200_18579_1_not_null\",\n                    \"clause\": \"id IS NOT NULL\"\n                },\n                {\n                    \"name\": \"2200_18579_2_not_null\",\n                    \"clause\": \"title IS NOT NULL\"\n                },\n                {\n                    \"name\": \"2200_18579_3_not_null\",\n                    \"clause\": \"price_cents IS NOT NULL\"\n                },\n                {\n                    \"name\": \"2200_18579_4_not_null\",\n                    \"clause\": \"total_numbers IS NOT NULL\"\n                }\n            ],\n            \"columns\": [\n                {\n                    \"pos\": 1,\n                    \"name\": \"id\",\n                    \"default\": \"gen_random_uuid()\",\n                    \"char_max\": null,\n                    \"udt_name\": \"uuid\",\n                    \"data_type\": \"uuid\",\n                    \"is_nullable\": \"NO\",\n                    \"numeric_scale\": null,\n                    \"numeric_precision\": null\n                },\n                {\n                    \"pos\": 2,\n                    \"name\": \"title\",\n                    \"default\": null,\n                    \"char_max\": null,\n                    \"udt_name\": \"text\",\n                    \"data_type\": \"text\",\n                    \"is_nullable\": \"NO\",\n                    \"numeric_scale\": null,\n                    \"numeric_precision\": null\n                },\n                {\n                    \"pos\": 3,\n                    \"name\": \"price_cents\",\n                    \"default\": null,\n                    \"char_max\": null,\n                    \"udt_name\": \"int4\",\n                    \"data_type\": \"integer\",\n                    \"is_nullable\": \"NO\",\n                    \"numeric_scale\": 0,\n                    \"numeric_precision\": 32\n                },\n                {\n                    \"pos\": 4,\n                    \"name\": \"total_numbers\",\n                    \"default\": null,\n                    \"char_max\": null,\n                    \"udt_name\": \"int4\",\n                    \"data_type\": \"integer\",\n                    \"is_nullable\": \"NO\",\n                    \"numeric_scale\": 0,\n                    \"numeric_precision\": 32\n                },\n                {\n                    \"pos\": 5,\n                    \"name\": \"created_at\",\n                    \"default\": \"now()\",\n                    \"char_max\": null,\n                    \"udt_name\": \"timestamptz\",\n                    \"data_type\": \"timestamp with time zone\",\n                    \"is_nullable\": \"YES\",\n                    \"numeric_scale\": null,\n                    \"numeric_precision\": null\n                },\n                {\n                    \"pos\": 6,\n                    \"name\": \"description\",\n                    \"default\": null,\n                    \"char_max\": null,\n                    \"udt_name\": \"text\",\n                    \"data_type\": \"text\",\n                    \"is_nullable\": \"YES\",\n                    \"numeric_scale\": null,\n                    \"numeric_precision\": null\n                },\n                {\n                    \"pos\": 7,\n                    \"name\": \"plan\",\n                    \"default\": \"'free'::text\",\n                    \"char_max\": null,\n                    \"udt_name\": \"text\",\n                    \"data_type\": \"text\",\n                    \"is_nullable\": \"YES\",\n                    \"numeric_scale\": null,\n                    \"numeric_precision\": null\n                },\n                {\n                    \"pos\": 8,\n                    \"name\": \"theme\",\n                    \"default\": \"'mixto'::text\",\n                    \"char_max\": null,\n                    \"udt_name\": \"text\",\n                    \"data_type\": \"text\",\n                    \"is_nullable\": \"YES\",\n                    \"numeric_scale\": null,\n                    \"numeric_precision\": null\n                },\n                {\n                    \"pos\": 9,\n                    \"name\": \"prize_type\",\n                    \"default\": \"'money'::text\",\n                    \"char_max\": null,\n                    \"udt_name\": \"text\",\n                    \"data_type\": \"text\",\n                    \"is_nullable\": \"YES\",\n                    \"numeric_scale\": null,\n                    \"numeric_precision\": null\n                },\n                {\n                    \"pos\": 10,\n                    \"name\": \"prize_amount_cents\",\n                    \"default\": null,\n                    \"char_max\": null,\n                    \"udt_name\": \"int4\",\n                    \"data_type\": \"integer\",\n                    \"is_nullable\": \"YES\",\n                    \"numeric_scale\": 0,\n                    \"numeric_precision\": 32\n                },\n                {\n                    \"pos\": 11,\n                    \"name\": \"payout_method\",\n                    \"default\": null,\n                    \"char_max\": null,\n                    \"udt_name\": \"text\",\n                    \"data_type\": \"text\",\n                    \"is_nullable\": \"YES\",\n                    \"numeric_scale\": null,\n                    \"numeric_precision\": null\n                },\n                {\n                    \"pos\": 12,\n                    \"name\": \"delivery_method\",\n                    \"default\": null,\n                    \"char_max\": null,\n                    \"udt_name\": \"text\",\n                    \"data_type\": \"text\",\n                    \"is_nullable\": \"YES\",\n                    \"numeric_scale\": null,\n                    \"numeric_precision\": null\n                },\n                {\n                    \"pos\": 13,\n                    \"name\": \"prize_photos\",\n                    \"default\": null,\n                    \"char_max\": null,\n                    \"udt_name\": \"_text\",\n                    \"data_type\": \"ARRAY\",\n                    \"is_nullable\": \"YES\",\n                    \"numeric_scale\": null,\n                    \"numeric_precision\": null\n                },\n                {\n                    \"pos\": 14,\n                    \"name\": \"start_date\",\n                    \"default\": null,\n                    \"char_max\": null,\n                    \"udt_name\": \"date\",\n                    \"data_type\": \"date\",\n                    \"is_nullable\": \"YES\",\n                    \"numeric_scale\": null,\n                    \"numeric_precision\": null\n                },\n                {\n                    \"pos\": 15,\n                    \"name\": \"end_date\",\n                    \"default\": null,\n                    \"char_max\": null,\n                    \"udt_name\": \"date\",\n                    \"data_type\": \"date\",\n                    \"is_nullable\": \"YES\",\n                    \"numeric_scale\": null,\n                    \"numeric_precision\": null\n                },\n                {\n                    \"pos\": 16,\n                    \"name\": \"status\",\n                    \"default\": \"'draft'::text\",\n                    \"char_max\": null,\n                    \"udt_name\": \"text\",\n                    \"data_type\": \"text\",\n                    \"is_nullable\": \"YES\",\n                    \"numeric_scale\": null,\n                    \"numeric_precision\": null\n                }\n            ],\n            \"indexes\": [\n                {\n                    \"def\": \"CREATE UNIQUE INDEX raffles_pkey ON public.raffles USING btree (id)\",\n                    \"name\": \"raffles_pkey\"\n                }\n            ],\n            \"uniques\": [\n            ],\n            \"primary_key\": {\n                \"name\": \"raffles_pkey\",\n                \"columns\": [\n                    \"id\"\n                ]\n            },\n            \"foreign_keys\": [\n            ]\n        },\n        {\n            \"table\": \"rifa_tickets\",\n            \"checks\": [\n                {\n                    \"name\": \"2200_17349_1_not_null\",\n                    \"clause\": \"id IS NOT NULL\"\n                },\n                {\n                    \"name\": \"2200_17349_3_not_null\",\n                    \"clause\": \"num IS NOT NULL\"\n                },\n                {\n                    \"name\": \"2200_17349_4_not_null\",\n                    \"clause\": \"status IS NOT NULL\"\n                },\n                {\n                    \"name\": \"rifa_tickets_status_check\",\n                    \"clause\": \"(status = ANY (ARRAY['free'::text, 'reserved'::text, 'paid'::text]))\"\n                }\n            ],\n            \"columns\": [\n                {\n                    \"pos\": 1,\n                    \"name\": \"id\",\n                    \"default\": \"gen_random_uuid()\",\n                    \"char_max\": null,\n                    \"udt_name\": \"uuid\",\n                    \"data_type\": \"uuid\",\n                    \"is_nullable\": \"NO\",\n                    \"numeric_scale\": null,\n                    \"numeric_precision\": null\n                },\n                {\n                    \"pos\": 2,\n                    \"name\": \"rifa_id\",\n                    \"default\": null,\n                    \"char_max\": null,\n                    \"udt_name\": \"uuid\",\n                    \"data_type\": \"uuid\",\n                    \"is_nullable\": \"YES\",\n                    \"numeric_scale\": null,\n                    \"numeric_precision\": null\n                },\n                {\n                    \"pos\": 3,\n                    \"name\": \"num\",\n                    \"default\": null,\n                    \"char_max\": null,\n                    \"udt_name\": \"int4\",\n                    \"data_type\": \"integer\",\n                    \"is_nullable\": \"NO\",\n                    \"numeric_scale\": 0,\n                    \"numeric_precision\": 32\n                },\n                {\n                    \"pos\": 4,\n                    \"name\": \"status\",\n                    \"default\": \"'free'::text\",\n                    \"char_max\": null,\n                    \"udt_name\": \"text\",\n                    \"data_type\": \"text\",\n                    \"is_nullable\": \"NO\",\n                    \"numeric_scale\": null,\n                    \"numeric_precision\": null\n                },\n                {\n                    \"pos\": 5,\n                    \"name\": \"holder_user\",\n                    \"default\": null,\n                    \"char_max\": null,\n                    \"udt_name\": \"uuid\",\n                    \"data_type\": \"uuid\",\n                    \"is_nullable\": \"YES\",\n                    \"numeric_scale\": null,\n                    \"numeric_precision\": null\n                },\n                {\n                    \"pos\": 6,\n                    \"name\": \"payment_ref\",\n                    \"default\": null,\n                    \"char_max\": null,\n                    \"udt_name\": \"text\",\n                    \"data_type\": \"text\",\n                    \"is_nullable\": \"YES\",\n                    \"numeric_scale\": null,\n                    \"numeric_precision\": null\n                },\n                {\n                    \"pos\": 7,\n                    \"name\": \"created_at\",\n                    \"default\": \"now()\",\n                    \"char_max\": null,\n                    \"udt_name\": \"timestamptz\",\n                    \"data_type\": \"timestamp with time zone\",\n                    \"is_nullable\": \"YES\",\n                    \"numeric_scale\": null,\n                    \"numeric_precision\": null\n                }\n            ],\n            \"indexes\": [\n                {\n                    \"def\": \"CREATE UNIQUE INDEX rifa_tickets_pkey ON public.rifa_tickets USING btree (id)\",\n                    \"name\": \"rifa_tickets_pkey\"\n                },\n                {\n                    \"def\": \"CREATE UNIQUE INDEX rifa_tickets_rifa_id_num_key ON public.rifa_tickets USING btree (rifa_id, num)\",\n                    \"name\": \"rifa_tickets_rifa_id_num_key\"\n                }\n            ],\n            \"uniques\": [\n                {\n                    \"name\": \"rifa_tickets_rifa_id_num_key\",\n                    \"columns\": [\n                        \"rifa_id\",\n                        \"num\"\n                    ]\n                }\n            ],\n            \"primary_key\": {\n                \"name\": \"rifa_tickets_pkey\",\n                \"columns\": [\n                    \"id\"\n                ]\n            },\n            \"foreign_keys\": [\n                {\n                    \"name\": \"rifa_tickets_holder_user_fkey\",\n                    \"columns\": [\n                        \"holder_user\"\n                    ],\n                    \"on_delete\": \"NO ACTION\",\n                    \"on_update\": \"NO ACTION\",\n                    \"ref_table\": \"users\",\n                    \"ref_columns\": [\n                        \"id\"\n                    ]\n                },\n                {\n                    \"name\": \"rifa_tickets_rifa_id_fkey\",\n                    \"columns\": [\n                        \"rifa_id\"\n                    ],\n                    \"on_delete\": \"CASCADE\",\n                    \"on_update\": \"NO ACTION\",\n                    \"ref_table\": \"rifas\",\n                    \"ref_columns\": [\n                        \"id\"\n                    ]\n                }\n            ]\n        },\n        {\n            \"table\": \"rifas\",\n            \"checks\": [\n                {\n                    \"name\": \"2200_17306_1_not_null\",\n                    \"clause\": \"id IS NOT NULL\"\n                },\n                {\n                    \"name\": \"2200_17306_3_not_null\",\n                    \"clause\": \"titulo IS NOT NULL\"\n                },\n                {\n                    \"name\": \"2200_17306_6_not_null\",\n                    \"clause\": \"precio_clp IS NOT NULL\"\n                },\n                {\n                    \"name\": \"2200_17306_7_not_null\",\n                    \"clause\": \"cupos IS NOT NULL\"\n                },\n                {\n                    \"name\": \"rifas_estado_check\",\n                    \"clause\": \"(estado = ANY (ARRAY['borrador'::text, 'publicada'::text, 'cerrada'::text]))\"\n                },\n                {\n                    \"name\": \"rifas_tipo_premio_check\",\n                    \"clause\": \"(tipo_premio = ANY (ARRAY['dinero'::text, 'fisico'::text]))\"\n                }\n            ],\n            \"columns\": [\n                {\n                    \"pos\": 1,\n                    \"name\": \"id\",\n                    \"default\": \"gen_random_uuid()\",\n                    \"char_max\": null,\n                    \"udt_name\": \"uuid\",\n                    \"data_type\": \"uuid\",\n                    \"is_nullable\": \"NO\",\n                    \"numeric_scale\": null,\n                    \"numeric_precision\": null\n                },\n                {\n                    \"pos\": 2,\n                    \"name\": \"creador_id\",\n                    \"default\": null,\n                    \"char_max\": null,\n                    \"udt_name\": \"uuid\",\n                    \"data_type\": \"uuid\",\n                    \"is_nullable\": \"YES\",\n                    \"numeric_scale\": null,\n                    \"numeric_precision\": null\n                },\n                {\n                    \"pos\": 3,\n                    \"name\": \"titulo\",\n                    \"default\": null,\n                    \"char_max\": null,\n                    \"udt_name\": \"text\",\n                    \"data_type\": \"text\",\n                    \"is_nullable\": \"NO\",\n                    \"numeric_scale\": null,\n                    \"numeric_precision\": null\n                },\n                {\n                    \"pos\": 4,\n                    \"name\": \"descripcion\",\n                    \"default\": null,\n                    \"char_max\": null,\n                    \"udt_name\": \"text\",\n                    \"data_type\": \"text\",\n                    \"is_nullable\": \"YES\",\n                    \"numeric_scale\": null,\n                    \"numeric_precision\": null\n                },\n                {\n                    \"pos\": 5,\n                    \"name\": \"tipo_premio\",\n                    \"default\": \"'dinero'::text\",\n                    \"char_max\": null,\n                    \"udt_name\": \"text\",\n                    \"data_type\": \"text\",\n                    \"is_nullable\": \"YES\",\n                    \"numeric_scale\": null,\n                    \"numeric_precision\": null\n                },\n                {\n                    \"pos\": 6,\n                    \"name\": \"precio_clp\",\n                    \"default\": null,\n                    \"char_max\": null,\n                    \"udt_name\": \"int4\",\n                    \"data_type\": \"integer\",\n                    \"is_nullable\": \"NO\",\n                    \"numeric_scale\": 0,\n                    \"numeric_precision\": 32\n                },\n                {\n                    \"pos\": 7,\n                    \"name\": \"cupos\",\n                    \"default\": null,\n                    \"char_max\": null,\n                    \"udt_name\": \"int4\",\n                    \"data_type\": \"integer\",\n                    \"is_nullable\": \"NO\",\n                    \"numeric_scale\": 0,\n                    \"numeric_precision\": 32\n                },\n                {\n                    \"pos\": 8,\n                    \"name\": \"temas\",\n                    \"default\": null,\n                    \"char_max\": null,\n                    \"udt_name\": \"_text\",\n                    \"data_type\": \"ARRAY\",\n                    \"is_nullable\": \"YES\",\n                    \"numeric_scale\": null,\n                    \"numeric_precision\": null\n                },\n                {\n                    \"pos\": 9,\n                    \"name\": \"inicio\",\n                    \"default\": null,\n                    \"char_max\": null,\n                    \"udt_name\": \"date\",\n                    \"data_type\": \"date\",\n                    \"is_nullable\": \"YES\",\n                    \"numeric_scale\": null,\n                    \"numeric_precision\": null\n                },\n                {\n                    \"pos\": 10,\n                    \"name\": \"termino\",\n                    \"default\": null,\n                    \"char_max\": null,\n                    \"udt_name\": \"date\",\n                    \"data_type\": \"date\",\n                    \"is_nullable\": \"YES\",\n                    \"numeric_scale\": null,\n                    \"numeric_precision\": null\n                },\n                {\n                    \"pos\": 11,\n                    \"name\": \"estado\",\n                    \"default\": \"'borrador'::text\",\n                    \"char_max\": null,\n                    \"udt_name\": \"text\",\n                    \"data_type\": \"text\",\n                    \"is_nullable\": \"YES\",\n                    \"numeric_scale\": null,\n                    \"numeric_precision\": null\n                },\n                {\n                    \"pos\": 12,\n                    \"name\": \"created_at\",\n                    \"default\": \"now()\",\n                    \"char_max\": null,\n                    \"udt_name\": \"timestamptz\",\n                    \"data_type\": \"timestamp with time zone\",\n                    \"is_nullable\": \"YES\",\n                    \"numeric_scale\": null,\n                    \"numeric_precision\": null\n                }\n            ],\n            \"indexes\": [\n                {\n                    \"def\": \"CREATE UNIQUE INDEX rifas_pkey ON public.rifas USING btree (id)\",\n                    \"name\": \"rifas_pkey\"\n                }\n            ],\n            \"uniques\": [\n            ],\n            \"primary_key\": {\n                \"name\": \"rifas_pkey\",\n                \"columns\": [\n                    \"id\"\n                ]\n            },\n            \"foreign_keys\": [\n                {\n                    \"name\": \"rifas_creador_id_fkey\",\n                    \"columns\": [\n                        \"creador_id\"\n                    ],\n                    \"on_delete\": \"SET NULL\",\n                    \"on_update\": \"NO ACTION\",\n                    \"ref_table\": \"users\",\n                    \"ref_columns\": [\n                        \"id\"\n                    ]\n                }\n            ]\n        },\n        {\n            \"table\": \"tickets\",\n            \"checks\": [\n                {\n                    \"name\": \"2200_18588_1_not_null\",\n                    \"clause\": \"id IS NOT NULL\"\n                },\n                {\n                    \"name\": \"2200_18588_3_not_null\",\n                    \"clause\": \"number IS NOT NULL\"\n                },\n                {\n                    \"name\": \"2200_18588_4_not_null\",\n                    \"clause\": \"status IS NOT NULL\"\n                }\n            ],\n            \"columns\": [\n                {\n                    \"pos\": 1,\n                    \"name\": \"id\",\n                    \"default\": \"gen_random_uuid()\",\n                    \"char_max\": null,\n                    \"udt_name\": \"uuid\",\n                    \"data_type\": \"uuid\",\n                    \"is_nullable\": \"NO\",\n                    \"numeric_scale\": null,\n                    \"numeric_precision\": null\n                },\n                {\n                    \"pos\": 2,\n                    \"name\": \"raffle_id\",\n                    \"default\": null,\n                    \"char_max\": null,\n                    \"udt_name\": \"uuid\",\n                    \"data_type\": \"uuid\",\n                    \"is_nullable\": \"YES\",\n                    \"numeric_scale\": null,\n                    \"numeric_precision\": null\n                },\n                {\n                    \"pos\": 3,\n                    \"name\": \"number\",\n                    \"default\": null,\n                    \"char_max\": null,\n                    \"udt_name\": \"int4\",\n                    \"data_type\": \"integer\",\n                    \"is_nullable\": \"NO\",\n                    \"numeric_scale\": 0,\n                    \"numeric_precision\": 32\n                },\n                {\n                    \"pos\": 4,\n                    \"name\": \"status\",\n                    \"default\": \"'available'::text\",\n                    \"char_max\": null,\n                    \"udt_name\": \"text\",\n                    \"data_type\": \"text\",\n                    \"is_nullable\": \"NO\",\n                    \"numeric_scale\": null,\n                    \"numeric_precision\": null\n                },\n                {\n                    \"pos\": 5,\n                    \"name\": \"purchase_id\",\n                    \"default\": null,\n                    \"char_max\": null,\n                    \"udt_name\": \"uuid\",\n                    \"data_type\": \"uuid\",\n                    \"is_nullable\": \"YES\",\n                    \"numeric_scale\": null,\n                    \"numeric_precision\": null\n                }\n            ],\n            \"indexes\": [\n                {\n                    \"def\": \"CREATE UNIQUE INDEX tickets_pkey ON public.tickets USING btree (id)\",\n                    \"name\": \"tickets_pkey\"\n                },\n                {\n                    \"def\": \"CREATE UNIQUE INDEX tickets_raffle_id_number_key ON public.tickets USING btree (raffle_id, number)\",\n                    \"name\": \"tickets_raffle_id_number_key\"\n                },\n                {\n                    \"def\": \"CREATE UNIQUE INDEX tickets_raffle_number_unique ON public.tickets USING btree (raffle_id, number)\",\n                    \"name\": \"tickets_raffle_number_unique\"\n                }\n            ],\n            \"uniques\": [\n                {\n                    \"name\": \"tickets_raffle_id_number_key\",\n                    \"columns\": [\n                        \"raffle_id\",\n                        \"number\"\n                    ]\n                }\n            ],\n            \"primary_key\": {\n                \"name\": \"tickets_pkey\",\n                \"columns\": [\n                    \"id\"\n                ]\n            },\n            \"foreign_keys\": [\n                {\n                    \"name\": \"tickets_raffle_id_fkey\",\n                    \"columns\": [\n                        \"raffle_id\"\n                    ],\n                    \"on_delete\": \"CASCADE\",\n                    \"on_update\": \"NO ACTION\",\n                    \"ref_table\": \"raffles\",\n                    \"ref_columns\": [\n                        \"id\"\n                    ]\n                }\n            ]\n        },\n        {\n            \"table\": \"users_profile\",\n            \"checks\": [\n                {\n                    \"name\": \"2200_17291_1_not_null\",\n                    \"clause\": \"user_id IS NOT NULL\"\n                }\n            ],\n            \"columns\": [\n                {\n                    \"pos\": 1,\n                    \"name\": \"user_id\",\n                    \"default\": null,\n                    \"char_max\": null,\n                    \"udt_name\": \"uuid\",\n                    \"data_type\": \"uuid\",\n                    \"is_nullable\": \"NO\",\n                    \"numeric_scale\": null,\n                    \"numeric_precision\": null\n                },\n                {\n                    \"pos\": 2,\n                    \"name\": \"nombre\",\n                    \"default\": null,\n                    \"char_max\": null,\n                    \"udt_name\": \"text\",\n                    \"data_type\": \"text\",\n                    \"is_nullable\": \"YES\",\n                    \"numeric_scale\": null,\n                    \"numeric_precision\": null\n                },\n                {\n                    \"pos\": 3,\n                    \"name\": \"rut\",\n                    \"default\": null,\n                    \"char_max\": null,\n                    \"udt_name\": \"text\",\n                    \"data_type\": \"text\",\n                    \"is_nullable\": \"YES\",\n                    \"numeric_scale\": null,\n                    \"numeric_precision\": null\n                },\n                {\n                    \"pos\": 4,\n                    \"name\": \"plan\",\n                    \"default\": \"'free'::text\",\n                    \"char_max\": null,\n                    \"udt_name\": \"text\",\n                    \"data_type\": \"text\",\n                    \"is_nullable\": \"YES\",\n                    \"numeric_scale\": null,\n                    \"numeric_precision\": null\n                },\n                {\n                    \"pos\": 5,\n                    \"name\": \"created_at\",\n                    \"default\": \"now()\",\n                    \"char_max\": null,\n                    \"udt_name\": \"timestamptz\",\n                    \"data_type\": \"timestamp with time zone\",\n                    \"is_nullable\": \"YES\",\n                    \"numeric_scale\": null,\n                    \"numeric_precision\": null\n                }\n            ],\n            \"indexes\": [\n                {\n                    \"def\": \"CREATE UNIQUE INDEX users_profile_pkey ON public.users_profile USING btree (user_id)\",\n                    \"name\": \"users_profile_pkey\"\n                }\n            ],\n            \"uniques\": [\n            ],\n            \"primary_key\": {\n                \"name\": \"users_profile_pkey\",\n                \"columns\": [\n                    \"user_id\"\n                ]\n            },\n            \"foreign_keys\": [\n                {\n                    \"name\": \"users_profile_user_id_fkey\",\n                    \"columns\": [\n                        \"user_id\"\n                    ],\n                    \"on_delete\": \"CASCADE\",\n                    \"on_update\": \"NO ACTION\",\n                    \"ref_table\": \"users\",\n                    \"ref_columns\": [\n                        \"id\"\n                    ]\n                }\n            ]\n        }\n    ],\n    \"generated_at\": \"2025-09-11T23:16:42+00\"\n}"
  }
]

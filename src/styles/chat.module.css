.page{
  padding: 10px 0 0;
  background:
    linear-gradient(135deg, rgba(30,58,138,0.08), rgba(24,169,87,0.08)),
    var(--fondo);
}

.shell{
  background:#fff; border:1px solid var(--borde); border-radius:16px;
  box-shadow:0 10px 24px rgba(0,0,0,.06);
  display:flex; flex-direction:column;
  height: calc(100vh - 64px - 20px); /* header ~64px + padding */
  overflow: hidden;
}

.chatHeader{
  display:flex; align-items:flex-start; justify-content:space-between; gap:12px;
  padding:14px 16px; border-bottom:1px solid var(--borde);
  background: linear-gradient(135deg, rgba(30,58,138,0.06), rgba(24,169,87,0.06));
}
.title{
  margin:0; font-weight:800; color:var(--ultramar); letter-spacing:-0.2px;
}
.sub{ margin:4px 0 0; color:var(--gris); }
.state{
  height: fit-content;
  font-size:12px; font-weight:800; text-transform:capitalize;
  padding:4px 8px; border-radius:999px; border:1px solid;
  color:#0a7f4f; background:rgba(24,169,87,.10); border-color:rgba(24,169,87,.35);
}

.body{
  flex:1; position:relative; background:#f8fafc;
}
.messages{
  position:absolute; inset:0; overflow-y:auto;
  padding: 14px 12px 88px; /* espacio para inputBar */
}

/* Mensaje */
.msg{ max-width: 70%; margin-bottom: 10px; }
.meta{
  font-size: 11px; color: #64748b; display:flex; gap:6px; margin: 0 4px 4px;
}
.name{ font-weight:700; }
.time{ opacity:.9; }

/* Burbuja */
.bubble{
  padding:10px 12px; border-radius:14px; border:1px solid var(--borde);
  background:#fff; color:var(--oscuro); box-shadow:0 6px 14px rgba(0,0,0,.03);
  word-wrap: break-word;
}

/* Alineaciones */
.other{ display:flex; flex-direction:column; align-items:flex-start; }
.me{
  margin-left:auto; display:flex; flex-direction:column; align-items:flex-end;
}
.me .bubble{
  color:#fff; border-color: transparent;
  background: linear-gradient(135deg, var(--ultramar), var(--trebol));
  box-shadow:0 8px 18px rgba(24,169,87,.25);
}
.me .meta{ justify-content:flex-end; }

/* Barra de entrada fija abajo */
.inputBar{
  position:sticky; bottom:0; left:0; right:0;
  display:flex; gap:8px; padding:10px; background:#fff;
  border-top:1px solid var(--borde);
}
.inputBar :global(.input){
  flex:1;
}
